{"version":3,"sources":["js/siema.js"],"names":["Siema","options","config","mergeSettings","selector","document","querySelector","Error","resolveSlidesNumber","selectorWidth","offsetWidth","innerElements","slice","call","children","currentSlide","loop","startIndex","length","Math","max","min","perPage","transformProperty","webkitOrNot","forEach","method","bind","init","window","addEventListener","resizeHandler","draggable","pointerDown","drag","startX","endX","startY","letItGo","preventClick","touchstartHandler","touchendHandler","touchmoveHandler","mousedownHandler","mouseupHandler","mouseleaveHandler","mousemoveHandler","clickHandler","removeEventListener","attachEvents","style","overflow","direction","rtl","buildSliderFrame","onInit","widthItem","itemsToBuild","sliderFrame","createElement","width","enableTransition","cursor","docFragment","createDocumentFragment","i","element","buildSliderFrameItem","cloneNode","appendChild","innerHTML","slideToCurrent","elm","elementContainer","cssFloat","float","viewport","innerWidth","howManySlides","callback","beforeChange","isNewIndexClone","disableTransition","mirrorSlideIndex","mirrorSlideIndexOffset","moveTo","offset","dragDistance","onChange","webkitTransition","easing","transition","duration","index","requestAnimationFrame","movement","movementDistance","abs","howManySliderToSlide","multipleDrag","ceil","slideToNegativeClone","slideToPositiveClone","threshold","prev","next","e","ignoreSiema","indexOf","target","nodeName","stopPropagation","touches","pageX","pageY","updateAfterDrag","clearDrag","preventDefault","currentOffset","dragOffset","lowerIndex","lastItem","splice","item","shouldItShift","insert","restoreMarkup","detachEvents","slides","removeAttribute","settings","userSttings","attrname","documentElement","transform"],"mappings":"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","file":"siema.85a77cbc.js","sourceRoot":"..\\src","sourcesContent":["/**\n * Hi :-) This is a class representing a Siema.\n */\nexport default class Siema {\n  /**\n   * Create a Siema.\n   * @param {Object} options - Optional settings object.\n   */\n  constructor(options) {\n    // Merge defaults with user's settings\n    this.config = Siema.mergeSettings(options);\n\n    // Resolve selector's type\n    this.selector = typeof this.config.selector === 'string' ? document.querySelector(this.config.selector) : this.config.selector;\n\n    // Early throw if selector doesn't exists\n    if (this.selector === null) {\n      throw new Error('Something wrong with your selector ðŸ˜­');\n    }\n\n    // update perPage number dependable of user value\n    this.resolveSlidesNumber();\n\n    // Create global references\n    this.selectorWidth = this.selector.offsetWidth;\n    this.innerElements = [].slice.call(this.selector.children);\n    this.currentSlide = this.config.loop ?\n      this.config.startIndex % this.innerElements.length :\n      Math.max(0, Math.min(this.config.startIndex, this.innerElements.length - this.perPage));\n    this.transformProperty = Siema.webkitOrNot();\n\n    // Bind all event handlers for referencability\n    ['resizeHandler', 'touchstartHandler', 'touchendHandler', 'touchmoveHandler', 'mousedownHandler', 'mouseupHandler', 'mouseleaveHandler', 'mousemoveHandler', 'clickHandler'].forEach(method => {\n      this[method] = this[method].bind(this);\n    });\n\n    // Build markup and apply required styling to elements\n    this.init();\n  }\n\n\n  /**\n   * Overrides default settings with custom ones.\n   * @param {Object} options - Optional settings object.\n   * @returns {Object} - Custom Siema settings.\n   */\n  static mergeSettings(options) {\n    const settings = {\n      selector: '.siema',\n      duration: 200,\n      easing: 'ease-out',\n      perPage: 1,\n      startIndex: 0,\n      draggable: true,\n      multipleDrag: true,\n      threshold: 20,\n      loop: false,\n      rtl: false,\n      onInit: () => {},\n      onChange: () => {},\n    };\n\n    const userSttings = options;\n    for (const attrname in userSttings) {\n      settings[attrname] = userSttings[attrname];\n    }\n\n    return settings;\n  }\n\n\n  /**\n   * Determine if browser supports unprefixed transform property.\n   * Google Chrome since version 26 supports prefix-less transform\n   * @returns {string} - Transform property supported by client.\n   */\n  static webkitOrNot() {\n    const style = document.documentElement.style;\n    if (typeof style.transform === 'string') {\n      return 'transform';\n    }\n    return 'WebkitTransform';\n  }\n\n  /**\n   * Attaches listeners to required events.\n   */\n  attachEvents() {\n    // Resize element on window resize\n    window.addEventListener('resize', this.resizeHandler);\n\n    // If element is draggable / swipable, add event handlers\n    if (this.config.draggable) {\n      // Keep track pointer hold and dragging distance\n      this.pointerDown = false;\n      this.drag = {\n        startX: 0,\n        endX: 0,\n        startY: 0,\n        letItGo: null,\n        preventClick: false,\n      };\n\n      // Touch events\n      this.selector.addEventListener('touchstart', this.touchstartHandler);\n      this.selector.addEventListener('touchend', this.touchendHandler);\n      this.selector.addEventListener('touchmove', this.touchmoveHandler);\n\n      // Mouse events\n      this.selector.addEventListener('mousedown', this.mousedownHandler);\n      this.selector.addEventListener('mouseup', this.mouseupHandler);\n      this.selector.addEventListener('mouseleave', this.mouseleaveHandler);\n      this.selector.addEventListener('mousemove', this.mousemoveHandler);\n\n      // Click\n      this.selector.addEventListener('click', this.clickHandler);\n    }\n  }\n\n\n  /**\n   * Detaches listeners from required events.\n   */\n  detachEvents() {\n    window.removeEventListener('resize', this.resizeHandler);\n    this.selector.removeEventListener('touchstart', this.touchstartHandler);\n    this.selector.removeEventListener('touchend', this.touchendHandler);\n    this.selector.removeEventListener('touchmove', this.touchmoveHandler);\n    this.selector.removeEventListener('mousedown', this.mousedownHandler);\n    this.selector.removeEventListener('mouseup', this.mouseupHandler);\n    this.selector.removeEventListener('mouseleave', this.mouseleaveHandler);\n    this.selector.removeEventListener('mousemove', this.mousemoveHandler);\n    this.selector.removeEventListener('click', this.clickHandler);\n  }\n\n\n  /**\n   * Builds the markup and attaches listeners to required events.\n   */\n  init() {\n    this.attachEvents();\n\n    // hide everything out of selector's boundaries\n    this.selector.style.overflow = 'hidden';\n\n    // rtl or ltr\n    this.selector.style.direction = this.config.rtl ? 'rtl' : 'ltr';\n\n    // build a frame and slide to a currentSlide\n    this.buildSliderFrame();\n\n    this.config.onInit.call(this);\n  }\n\n\n  /**\n   * Build a sliderFrame and slide to a current item.\n   */\n  buildSliderFrame() {\n    const widthItem = this.selectorWidth / this.perPage;\n    const itemsToBuild = this.config.loop ? this.innerElements.length + (2 * this.perPage) : this.innerElements.length;\n\n    // Create frame and apply styling\n    this.sliderFrame = document.createElement('div');\n    this.sliderFrame.style.width = `${widthItem * itemsToBuild}px`;\n    this.enableTransition();\n\n    if (this.config.draggable) {\n      this.selector.style.cursor = '-webkit-grab';\n    }\n\n    // Create a document fragment to put slides into it\n    const docFragment = document.createDocumentFragment();\n\n    // Loop through the slides, add styling and add them to document fragment\n    if (this.config.loop) {\n      for (let i = this.innerElements.length - this.perPage; i < this.innerElements.length; i++) {\n        const element = this.buildSliderFrameItem(this.innerElements[i].cloneNode(true));\n        docFragment.appendChild(element);\n      }\n    }\n    for (let i = 0; i < this.innerElements.length; i++) {\n      const element = this.buildSliderFrameItem(this.innerElements[i]);\n      docFragment.appendChild(element);\n    }\n    if (this.config.loop) {\n      for (let i = 0; i < this.perPage; i++) {\n        const element = this.buildSliderFrameItem(this.innerElements[i].cloneNode(true));\n        docFragment.appendChild(element);\n      }\n    }\n\n    // Add fragment to the frame\n    this.sliderFrame.appendChild(docFragment);\n\n    // Clear selector (just in case something is there) and insert a frame\n    this.selector.innerHTML = '';\n    this.selector.appendChild(this.sliderFrame);\n\n    // Go to currently active slide after initial build\n    this.slideToCurrent();\n  }\n\n  buildSliderFrameItem(elm) {\n    const elementContainer = document.createElement('div');\n    elementContainer.style.cssFloat = this.config.rtl ? 'right' : 'left';\n    elementContainer.style.float = this.config.rtl ? 'right' : 'left';\n    elementContainer.style.width = `${this.config.loop ? 100 / (this.innerElements.length + (this.perPage * 2)) : 100 / (this.innerElements.length)}%`;\n    elementContainer.appendChild(elm);\n    return elementContainer;\n  }\n\n\n  /**\n   * Determinates slides number accordingly to clients viewport.\n   */\n  resolveSlidesNumber() {\n    if (typeof this.config.perPage === 'number') {\n      this.perPage = this.config.perPage;\n    }\n    else if (typeof this.config.perPage === 'object') {\n      this.perPage = 1;\n      for (const viewport in this.config.perPage) {\n        if (window.innerWidth >= viewport) {\n          this.perPage = this.config.perPage[viewport];\n        }\n      }\n    }\n  }\n\n\n  /**\n   * Go to previous slide.\n   * @param {number} [howManySlides=1] - How many items to slide backward.\n   * @param {function} callback - Optional callback function.\n   */\n  prev(howManySlides = 1, callback) {\n    // early return when there is nothing to slide\n    if (this.innerElements.length <= this.perPage) {\n      return;\n    }\n\n    const beforeChange = this.currentSlide;\n\n    if (this.config.loop) {\n      const isNewIndexClone = this.currentSlide - howManySlides < 0;\n      if (isNewIndexClone) {\n        this.disableTransition();\n\n        const mirrorSlideIndex = this.currentSlide + this.innerElements.length;\n        const mirrorSlideIndexOffset = this.perPage;\n        const moveTo = mirrorSlideIndex + mirrorSlideIndexOffset;\n        const offset = (this.config.rtl ? 1 : -1) * moveTo * (this.selectorWidth / this.perPage);\n        const dragDistance = this.config.draggable ? this.drag.endX - this.drag.startX : 0;\n\n        this.sliderFrame.style[this.transformProperty] = `translate3d(${offset + dragDistance}px, 0, 0)`;\n        this.currentSlide = mirrorSlideIndex - howManySlides;\n      }\n      else {\n        this.currentSlide = this.currentSlide - howManySlides;\n      }\n    }\n    else {\n      this.currentSlide = Math.max(this.currentSlide - howManySlides, 0);\n    }\n\n    if (beforeChange !== this.currentSlide) {\n      this.slideToCurrent(this.config.loop);\n      this.config.onChange.call(this);\n      if (callback) {\n        callback.call(this);\n      }\n    }\n  }\n\n\n  /**\n   * Go to next slide.\n   * @param {number} [howManySlides=1] - How many items to slide forward.\n   * @param {function} callback - Optional callback function.\n   */\n  next(howManySlides = 1, callback) {\n    // early return when there is nothing to slide\n    if (this.innerElements.length <= this.perPage) {\n      return;\n    }\n\n    const beforeChange = this.currentSlide;\n\n    if (this.config.loop) {\n      const isNewIndexClone = this.currentSlide + howManySlides > this.innerElements.length - this.perPage;\n      if (isNewIndexClone) {\n        this.disableTransition();\n\n        const mirrorSlideIndex = this.currentSlide - this.innerElements.length;\n        const mirrorSlideIndexOffset = this.perPage;\n        const moveTo = mirrorSlideIndex + mirrorSlideIndexOffset;\n        const offset = (this.config.rtl ? 1 : -1) * moveTo * (this.selectorWidth / this.perPage);\n        const dragDistance = this.config.draggable ? this.drag.endX - this.drag.startX : 0;\n\n        this.sliderFrame.style[this.transformProperty] = `translate3d(${offset + dragDistance}px, 0, 0)`;\n        this.currentSlide = mirrorSlideIndex + howManySlides;\n      }\n      else {\n        this.currentSlide = this.currentSlide + howManySlides;\n      }\n    }\n    else {\n      this.currentSlide = Math.min(this.currentSlide + howManySlides, this.innerElements.length - this.perPage);\n    }\n    if (beforeChange !== this.currentSlide) {\n      this.slideToCurrent(this.config.loop);\n      this.config.onChange.call(this);\n      if (callback) {\n        callback.call(this);\n      }\n    }\n  }\n\n\n  /**\n   * Disable transition on sliderFrame.\n   */\n  disableTransition() {\n    this.sliderFrame.style.webkitTransition = `all 0ms ${this.config.easing}`;\n    this.sliderFrame.style.transition = `all 0ms ${this.config.easing}`;\n  }\n\n\n  /**\n   * Enable transition on sliderFrame.\n   */\n  enableTransition() {\n    this.sliderFrame.style.webkitTransition = `all ${this.config.duration}ms ${this.config.easing}`;\n    this.sliderFrame.style.transition = `all ${this.config.duration}ms ${this.config.easing}`;\n  }\n\n\n  /**\n   * Go to slide with particular index\n   * @param {number} index - Item index to slide to.\n   * @param {function} callback - Optional callback function.\n   */\n  goTo(index, callback) {\n    if (this.innerElements.length <= this.perPage) {\n      return;\n    }\n    const beforeChange = this.currentSlide;\n    this.currentSlide = this.config.loop ?\n      index % this.innerElements.length :\n      Math.min(Math.max(index, 0), this.innerElements.length - this.perPage);\n    if (beforeChange !== this.currentSlide) {\n      this.slideToCurrent();\n      this.config.onChange.call(this);\n      if (callback) {\n        callback.call(this);\n      }\n    }\n  }\n\n\n  /**\n   * Moves sliders frame to position of currently active slide\n   */\n  slideToCurrent(enableTransition) {\n    const currentSlide = this.config.loop ? this.currentSlide + this.perPage : this.currentSlide;\n    const offset = (this.config.rtl ? 1 : -1) * currentSlide * (this.selectorWidth / this.perPage);\n\n    if (enableTransition) {\n      // This one is tricky, I know but this is a perfect explanation:\n      // https://youtu.be/cCOL7MC4Pl0\n      requestAnimationFrame(() => {\n        requestAnimationFrame(() => {\n          this.enableTransition();\n          this.sliderFrame.style[this.transformProperty] = `translate3d(${offset}px, 0, 0)`;\n        });\n      });\n    }\n    else {\n      this.sliderFrame.style[this.transformProperty] = `translate3d(${offset}px, 0, 0)`;\n    }\n  }\n\n\n  /**\n   * Recalculate drag /swipe event and reposition the frame of a slider\n   */\n  updateAfterDrag() {\n    const movement = (this.config.rtl ? -1 : 1) * (this.drag.endX - this.drag.startX);\n    const movementDistance = Math.abs(movement);\n    const howManySliderToSlide = this.config.multipleDrag ? Math.ceil(movementDistance / (this.selectorWidth / this.perPage)) : 1;\n\n    const slideToNegativeClone = movement > 0 && this.currentSlide - howManySliderToSlide < 0;\n    const slideToPositiveClone = movement < 0 && this.currentSlide + howManySliderToSlide > this.innerElements.length - this.perPage;\n\n    if (movement > 0 && movementDistance > this.config.threshold && this.innerElements.length > this.perPage) {\n      this.prev(howManySliderToSlide);\n    }\n    else if (movement < 0 && movementDistance > this.config.threshold && this.innerElements.length > this.perPage) {\n      this.next(howManySliderToSlide);\n    }\n    this.slideToCurrent(slideToNegativeClone || slideToPositiveClone);\n  }\n\n\n  /**\n   * When window resizes, resize slider components as well\n   */\n  resizeHandler() {\n    // update perPage number dependable of user value\n    this.resolveSlidesNumber();\n\n    // relcalculate currentSlide\n    // prevent hiding items when browser width increases\n    if (this.currentSlide + this.perPage > this.innerElements.length) {\n      this.currentSlide = this.innerElements.length <= this.perPage ? 0 : this.innerElements.length - this.perPage;\n    }\n\n    this.selectorWidth = this.selector.offsetWidth;\n\n    this.buildSliderFrame();\n  }\n\n\n  /**\n   * Clear drag after touchend and mouseup event\n   */\n  clearDrag() {\n    this.drag = {\n      startX: 0,\n      endX: 0,\n      startY: 0,\n      letItGo: null,\n      preventClick: this.drag.preventClick\n    };\n  }\n\n\n  /**\n   * touchstart event handler\n   */\n  touchstartHandler(e) {\n    // Prevent dragging / swiping on inputs, selects and textareas\n    const ignoreSiema = ['TEXTAREA', 'OPTION', 'INPUT', 'SELECT'].indexOf(e.target.nodeName) !== -1;\n    if (ignoreSiema) {\n      return;\n    }\n\n    e.stopPropagation();\n    this.pointerDown = true;\n    this.drag.startX = e.touches[0].pageX;\n    this.drag.startY = e.touches[0].pageY;\n  }\n\n\n  /**\n   * touchend event handler\n   */\n  touchendHandler(e) {\n    e.stopPropagation();\n    this.pointerDown = false;\n    this.enableTransition();\n    if (this.drag.endX) {\n      this.updateAfterDrag();\n    }\n    this.clearDrag();\n  }\n\n\n  /**\n   * touchmove event handler\n   */\n  touchmoveHandler(e) {\n    e.stopPropagation();\n\n    if (this.drag.letItGo === null) {\n      this.drag.letItGo = Math.abs(this.drag.startY - e.touches[0].pageY) < Math.abs(this.drag.startX - e.touches[0].pageX);\n    }\n\n    if (this.pointerDown && this.drag.letItGo) {\n      e.preventDefault();\n      this.drag.endX = e.touches[0].pageX;\n      this.sliderFrame.style.webkitTransition = `all 0ms ${this.config.easing}`;\n      this.sliderFrame.style.transition = `all 0ms ${this.config.easing}`;\n\n      const currentSlide = this.config.loop ? this.currentSlide + this.perPage : this.currentSlide;\n      const currentOffset = currentSlide * (this.selectorWidth / this.perPage);\n      const dragOffset = (this.drag.endX - this.drag.startX);\n      const offset = this.config.rtl ? currentOffset + dragOffset : currentOffset - dragOffset;\n      this.sliderFrame.style[this.transformProperty] = `translate3d(${(this.config.rtl ? 1 : -1) * offset}px, 0, 0)`;\n    }\n  }\n\n\n  /**\n   * mousedown event handler\n   */\n  mousedownHandler(e) {\n    // Prevent dragging / swiping on inputs, selects and textareas\n    const ignoreSiema = ['TEXTAREA', 'OPTION', 'INPUT', 'SELECT'].indexOf(e.target.nodeName) !== -1;\n    if (ignoreSiema) {\n      return;\n    }\n\n    e.preventDefault();\n    e.stopPropagation();\n    this.pointerDown = true;\n    this.drag.startX = e.pageX;\n  }\n\n\n  /**\n   * mouseup event handler\n   */\n  mouseupHandler(e) {\n    e.stopPropagation();\n    this.pointerDown = false;\n    this.selector.style.cursor = '-webkit-grab';\n    this.enableTransition();\n    if (this.drag.endX) {\n      this.updateAfterDrag();\n    }\n    this.clearDrag();\n  }\n\n\n  /**\n   * mousemove event handler\n   */\n  mousemoveHandler(e) {\n    e.preventDefault();\n    if (this.pointerDown) {\n      // if dragged element is a link\n      // mark preventClick prop as a true\n      // to detemine about browser redirection later on\n      if (e.target.nodeName === 'A') {\n        this.drag.preventClick = true;\n      }\n\n      this.drag.endX = e.pageX;\n      this.selector.style.cursor = '-webkit-grabbing';\n      this.sliderFrame.style.webkitTransition = `all 0ms ${this.config.easing}`;\n      this.sliderFrame.style.transition = `all 0ms ${this.config.easing}`;\n\n      const currentSlide = this.config.loop ? this.currentSlide + this.perPage : this.currentSlide;\n      const currentOffset = currentSlide * (this.selectorWidth / this.perPage);\n      const dragOffset = (this.drag.endX - this.drag.startX);\n      const offset = this.config.rtl ? currentOffset + dragOffset : currentOffset - dragOffset;\n      this.sliderFrame.style[this.transformProperty] = `translate3d(${(this.config.rtl ? 1 : -1) * offset}px, 0, 0)`;\n    }\n  }\n\n\n  /**\n   * mouseleave event handler\n   */\n  mouseleaveHandler(e) {\n    if (this.pointerDown) {\n      this.pointerDown = false;\n      this.selector.style.cursor = '-webkit-grab';\n      this.drag.endX = e.pageX;\n      this.drag.preventClick = false;\n      this.enableTransition();\n      this.updateAfterDrag();\n      this.clearDrag();\n    }\n  }\n\n\n  /**\n   * click event handler\n   */\n  clickHandler(e) {\n    // if the dragged element is a link\n    // prevent browsers from folowing the link\n    if (this.drag.preventClick) {\n      e.preventDefault();\n    }\n    this.drag.preventClick = false;\n  }\n\n\n  /**\n   * Remove item from carousel.\n   * @param {number} index - Item index to remove.\n   * @param {function} callback - Optional callback to call after remove.\n   */\n  remove(index, callback) {\n    if (index < 0 || index >= this.innerElements.length) {\n      throw new Error('Item to remove doesn\\'t exist ðŸ˜­');\n    }\n\n    // Shift sliderFrame back by one item when:\n    // 1. Item with lower index than currenSlide is removed.\n    // 2. Last item is removed.\n    const lowerIndex = index < this.currentSlide;\n    const lastItem = this.currentSlide + this.perPage - 1 === index;\n\n    if (lowerIndex || lastItem) {\n      this.currentSlide--;\n    }\n\n    this.innerElements.splice(index, 1);\n\n    // build a frame and slide to a currentSlide\n    this.buildSliderFrame();\n\n    if (callback) {\n      callback.call(this);\n    }\n  }\n\n\n  /**\n   * Insert item to carousel at particular index.\n   * @param {HTMLElement} item - Item to insert.\n   * @param {number} index - Index of new new item insertion.\n   * @param {function} callback - Optional callback to call after insert.\n   */\n  insert(item, index, callback) {\n    if (index < 0 || index > this.innerElements.length + 1) {\n      throw new Error('Unable to inset it at this index ðŸ˜­');\n    }\n    if (this.innerElements.indexOf(item) !== -1) {\n      throw new Error('The same item in a carousel? Really? Nope ðŸ˜­');\n    }\n\n    // Avoid shifting content\n    const shouldItShift = index <= this.currentSlide > 0 && this.innerElements.length;\n    this.currentSlide = shouldItShift ? this.currentSlide + 1 : this.currentSlide;\n\n    this.innerElements.splice(index, 0, item);\n\n    // build a frame and slide to a currentSlide\n    this.buildSliderFrame();\n\n    if (callback) {\n      callback.call(this);\n    }\n  }\n\n\n  /**\n   * Prepernd item to carousel.\n   * @param {HTMLElement} item - Item to prepend.\n   * @param {function} callback - Optional callback to call after prepend.\n   */\n  prepend(item, callback) {\n    this.insert(item, 0);\n    if (callback) {\n      callback.call(this);\n    }\n  }\n\n\n  /**\n   * Append item to carousel.\n   * @param {HTMLElement} item - Item to append.\n   * @param {function} callback - Optional callback to call after append.\n   */\n  append(item, callback) {\n    this.insert(item, this.innerElements.length + 1);\n    if (callback) {\n      callback.call(this);\n    }\n  }\n\n\n  /**\n   * Removes listeners and optionally restores to initial markup\n   * @param {boolean} restoreMarkup - Determinants about restoring an initial markup.\n   * @param {function} callback - Optional callback function.\n   */\n  destroy(restoreMarkup = false, callback) {\n    this.detachEvents();\n\n    this.selector.style.cursor = 'auto';\n\n    if (restoreMarkup) {\n      const slides = document.createDocumentFragment();\n      for (let i = 0; i < this.innerElements.length; i++) {\n        slides.appendChild(this.innerElements[i]);\n      }\n      this.selector.innerHTML = '';\n      this.selector.appendChild(slides);\n      this.selector.removeAttribute('style');\n    }\n\n    if (callback) {\n      callback.call(this);\n    }\n  }\n}\n"]}